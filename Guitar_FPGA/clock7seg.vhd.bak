library IEEE;
use IEEE.std_logic_1164.all;
use IEEE.numeric_std.all;

entity clock7seg is
	port
	(
		-- Input ports 
		clk : in std_logic;
				
		-- output ports
		dig7seg : out std_logic_vector(1 downto 0); -- Seletor do display
		d7seg : out std_logic_vector(8 downto 0) -- Indicator de 7seg selecionado por dig7seg
		
	);
end teste0;


architecture behaviorOfTest of teste0 is
signal keyClk,max1:std_logic;
signal dig0,dig1,dig2,dig3:std_logic_vector(3 downto 0);
signal binCount:std_logic_vector(18 downto 0);
signal countN:std_logic_vector(13 downto 0);
begin

--k0: work.debounce port map(clk=>CLOCK_50,button=>ehkey(8),
--result=>keyClk);

c0: work.BinaryCounterMod
generic map (N=>27)
port map(clk=>CLOCK_50,
M=>50000000,
reset=>ehkey(7),
maxOut=>max1);

c1: work.BinaryCounterMod
generic map (N=>14)
port map(clk=>max1,
M=>10000,
reset=>ehkey(7), Q=>countN);

decod: work.bcd 
generic map(N=>14)
port map(number=>countN,dig3=>dig3,dig2=>dig2,dig1=>dig1,dig0=>dig0);


d0: work.display7seg 
port map(clk=>CLOCK_50,ena=>'1',
clockPoint=>'1',
dig0=>dig0,
dig1=>dig1,
dig2=>dig2,
dig3=>dig3,
dig7seg=>dig7seg,
d7seg=>d7seg);

end behaviorOfTest;
